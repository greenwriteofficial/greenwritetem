<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>GreenWrite â€” Product</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --green: #4cd964;
      --green-dark: #2bbf4a;
      --cream: #fff8eb;
      --navy: #050816;
      --text-dark: #141414;
      --text-muted: #4a4a4a;
      --radius-lg: 1.5rem;
      --shadow-soft: 0 14px 30px rgba(0, 0, 0, 0.18);
    }

    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: "Poppins", sans-serif;
      background:#f5f7fb;
      color:#141414;
      line-height:1.5;
    }

    a { text-decoration:none; color:inherit; }

    /* =================== NAVBAR =================== */

    header {
      position:sticky;
      top:0;
      z-index:50;
      background:rgba(5,8,22,0.96);
      backdrop-filter:blur(16px);
    }

    .nav {
      max-width:1200px;
      margin:0 auto;
      padding:0.75rem 1.5rem;
      display:flex;
      align-items:center;
      justify-content:space-between;
      color:#fff;
    }

    .nav-left {
      display:flex;
      align-items:center;
      gap:0.6rem;
    }

    .logo-icon {
      width:36px;height:36px;border-radius:50%;
      background:radial-gradient(circle at 30% 20%,#ccff90,var(--green));
      display:flex;align-items:center;justify-content:center;
      font-size:1.1rem;font-weight:700;color:#050816;
    }
    .logo-text {
      font-size:1.2rem;
      font-weight:700;
      letter-spacing:0.06em;
      text-transform:uppercase;
    }

    .nav-links {
      display:flex;
      align-items:center;
      gap:1.6rem;
      font-size:0.95rem;
    }

    .nav-links a { color:#f5f5f5; opacity:0.9; }
    .nav-links a:hover { opacity:1; }

    .nav-cart {
      position:relative;
      margin-right:0.4rem;
      font-size:1.2rem;
      display:inline-flex;
      align-items:center;
    }
    .nav-cart-count {
      position:absolute;
      top:-0.4rem;
      right:-0.6rem;
      background:#ff4d4f;
      min-width:16px;
      height:16px;
      padding:0 4px;
      border-radius:999px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:0.7rem;
      color:#fff;
      visibility:hidden;
    }

    /* ---------- NAV AUTH CSS (Your Standard) ---------- */

    .nav-right {
      display:flex;
      align-items:center;
      gap:1rem;
    }

    .nav-auth {
      display:flex;
      align-items:center;
      gap:0.6rem;
    }

    /* Logged-in user info */
    .user-info {
      display:flex;
      align-items:center;
      gap:0.5rem;
      font-size:0.85rem;
      color:#e6f3ff;
      max-width:160px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .user-info img {
      width:28px;height:28px;
      border-radius:999px;
      object-fit:cover;
      border:2px solid rgba(144,255,158,0.9);
      box-shadow:0 0 0 1px rgba(9,255,120,0.4);
    }

    /* Shared button style */
    .nav-btn {
      border-radius:999px;
      padding:0.45rem 0.95rem;
      border:1px solid #2f3545;
      background:transparent;
      color:#f5f7ff;
      font-size:0.8rem;
      font-weight:500;
      display:inline-flex;
      align-items:center;
      gap:0.35rem;
      cursor:pointer;
      transition:.18s ease;
    }
    .nav-btn-login {
      border-color:rgba(76,217,100,0.65);
      box-shadow:0 0 0 1px rgba(76,217,100,0.25);
    }
    .nav-btn-login:hover {
      background:#32d774;
      color:#04110a;
      box-shadow:0 8px 18px rgba(50,215,116,0.55);
      transform:translateY(-1px);
    }
    .nav-btn-logout {
      border-color:rgba(255,119,119,0.6);
      color:#ffd4d4;
    }
    .nav-btn-logout:hover {
      background:#ff6b6b;
      color:#1b0505;
      transform:translateY(-1px);
    }

    .nav-cta {
      padding:0.55rem 1.3rem;
      border-radius:999px;
      background:#00c26f;
      font-size:0.9rem;
      font-weight:600;
      color:#fff;
      box-shadow:0 12px 22px rgba(0,194,111,0.4);
      display:inline-flex;
      align-items:center;
      gap:0.4rem;
    }

    /* Hamburger */
    .nav-toggle {
      display:none;
      width:30px;height:22px;
      background:none;border:none;
      flex-direction:column;
      justify-content:space-between;
      cursor:pointer;
    }
    .nav-toggle span {
      width:100%;height:2px;
      background:#fff;border-radius:999px;
      transition:.2s ease;
    }
    .nav-toggle.is-open span:nth-child(1) {
      transform:translateY(8px) rotate(45deg);
    }
    .nav-toggle.is-open span:nth-child(2) {
      opacity:0;
    }
    .nav-toggle.is-open span:nth-child(3) {
      transform:translateY(-8px) rotate(-45deg);
    }

    @media (max-width:900px) {
      .nav-toggle { display:flex; }
      .nav-links {
        position:fixed;
        top:56px;
        left:0;right:0;
        background:#0f1220;
        flex-direction:column;
        align-items:flex-start;
        gap:1rem;
        padding:1rem 1.5rem;
        transform:translateY(-120%);
        opacity:0;
        pointer-events:none;
        transition:.25s;
      }
      .nav-links.is-open {
        transform:translateY(0);
        opacity:1;
        pointer-events:auto;
      }

      .nav-right { gap:0.5rem; }
      .user-info span { display:none; }
      .nav-btn span:nth-child(2) { display:none; }
      .nav-btn { padding:0.35rem 0.5rem; }
    }

    /* =================== PRODUCT PAGE =================== */

    .product-hero {
      background:linear-gradient(120deg,#00a7b8 0%,#00c26f 50%,#00a7b8 100%);
      color:#fff;
      padding:3rem 1.5rem 2.5rem;
    }
    .product-hero-inner {
      max-width:1200px;
      margin:0 auto;
    }
    .product-hero-title {
      font-size:clamp(2rem,3vw,2.6rem);
      font-weight:700;
    }

    .product-main {
      padding:3rem 1.5rem 4rem;
    }
    .product-inner {
      max-width:1200px;
      margin:0 auto;
      display:grid;
      grid-template-columns:1.1fr 1fr;
      gap:2.5rem;
    }
    .product-img-card {
      background:#fff;
      border-radius:1.6rem;
      padding:1.8rem;
      box-shadow:0 16px 30px rgba(0,0,0,0.12);
      display:flex;justify-content:center;align-items:center;
      min-height:280px;
    }
    .product-img-card img {
      max-height:300px;
      object-fit:contain;
    }

    .product-title {
      font-size:1.7rem;font-weight:700;
    }
    .product-tag-pill {
      margin:0.5rem 0;
      font-size:0.75rem;
      background:#e7ffe9;
      padding:0.25rem 0.8rem;
      border-radius:999px;
      text-transform:uppercase;
      color:#0b9445;
      letter-spacing:0.15em;
    }
    .product-price {
      font-size:1.5rem;
      font-weight:700;
      margin:1rem 0 0.6rem;
    }
    .product-desc {
      font-size:0.95rem;
      color:#4a4a4a;
      margin-bottom:1.2rem;
    }

    .qty-row {
      display:flex;
      align-items:center;
      gap:0.5rem;
      margin-bottom:1.2rem;
    }
    .qty-input {
      width:60px;
      padding:0.4rem 0.6rem;
      border:1px solid #dde3ef;
      border-radius:999px;
      text-align:center;
    }

    .btn-primary {
      padding:0.8rem 1.6rem;
      border-radius:999px;
      border:none;
      font-weight:600;
      background:#00c26f;
      color:#053117;
    }
    .btn-primary:hover { background:#2bbf4a; }

    footer {
      padding:2rem;
      text-align:center;
      font-size:0.9rem;
      color:#666;
    }

    @media (max-width:900px) {
      .product-inner { grid-template-columns:1fr; }
    }
  </style>
</head>
<body>

  <!-- =================== NAVBAR =================== -->
  <header>
    <nav class="nav">
      <div class="nav-left">
        <a href="index.html" style="display:flex;align-items:center;gap:0.6rem;">
          <div class="logo-icon">GW</div>
          <div class="logo-text">GreenWrite</div>
        </a>
      </div>

      <button class="nav-toggle" id="navToggle">
        <span></span><span></span><span></span>
      </button>

      <div class="nav-links" id="navLinks">
        <a href="index.html#about">About us</a>
        <a href="impact.html">Our Impact</a>
        <a href="products.html">Products</a>
        <a href="index.html#contact">Contact</a>

        <a href="cart.html" class="nav-cart">
          ðŸ›’ <span id="cartCount" class="nav-cart-count">0</span>
        </a>

        <div class="nav-right">
          <div class="nav-auth">
            <div id="userBox" class="user-info"></div>

            <button id="loginBtn" class="nav-btn nav-btn-login" onclick="googleLogin()">
              <span>ðŸ”’</span><span>Login with Google</span>
            </button>

            <button id="logoutBtn" class="nav-btn nav-btn-logout" onclick="logoutUser()" style="display:none;">
              <span>ðŸ‘‹</span><span>Logout</span>
            </button>
          </div>

          <a
            href="https://wa.me/918287734776?text=I%20want%20to%20know%20more%20about%20GreenWrite%20products"
            class="nav-cta" target="_blank">
            ðŸ“ž Inquire Now
          </a>
        </div>
      </div>
    </nav>
  </header>

  <!-- =================== HERO =================== -->
  <section class="product-hero">
    <div class="product-hero-inner">
      <h1 id="heroTitle" class="product-hero-title">Product</h1>
      <div id="heroBreadcrumb" class="product-breadcrumb">Home â€º Shop â€º Product</div>
    </div>
  </section>

  <!-- =================== MAIN PRODUCT =================== -->
  <main class="product-main">
    <div class="product-inner">

      <div class="product-img-card">
        <img id="productImage" src="" alt="Product image">
      </div>

      <div>
        <h2 id="productTitle" class="product-title"></h2>
        <div id="productTag" class="product-tag-pill"></div>
        <div id="productPrice" class="product-price"></div>
        <p id="productDescription" class="product-desc"></p>

        <div class="qty-row">
          <span>Quantity</span>
          <input id="qtyInput" class="qty-input" type="number" min="1" value="1">
        </div>

        <button id="addToCartBtn" class="btn-primary">Add to cart</button>

        <div id="productMeta" class="product-desc" style="margin-top:1rem;"></div>
      </div>
    </div>
  </main>

  <footer>
    Â© <span id="year"></span> GreenWrite. All rights reserved.
  </footer>

  <!-- =================== SCRIPTS =================== -->
  <script src="products-data.js"></script>
  <script src="cart.js"></script>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    function getQueryParam(n) {
      return new URLSearchParams(window.location.search).get(n);
    }

    const id = getQueryParam("id");
    const product = PRODUCTS.find(p => p.id === id);

    const heroTitle = document.getElementById("heroTitle");
    const heroBreadcrumb = document.getElementById("heroBreadcrumb");
    const imgEl    = document.getElementById("productImage");
    const titleEl  = document.getElementById("productTitle");
    const tagEl    = document.getElementById("productTag");
    const priceEl  = document.getElementById("productPrice");
    const descEl   = document.getElementById("productDescription");
    const metaEl   = document.getElementById("productMeta");
    const qtyInput = document.getElementById("qtyInput");
    const addBtn   = document.getElementById("addToCartBtn");

    if (!product) {
      heroTitle.textContent = "Product Not Found";
      titleEl.textContent = "Product Not Found";
      priceEl.textContent = "â‚¹0";
      descEl.textContent = "This product does not exist.";
    } else {
      heroTitle.textContent = product.name;
      heroBreadcrumb.textContent = `Home â€º Shop â€º ${product.name}`;
      titleEl.textContent = product.name;

      imgEl.src = product.image || "";
      tagEl.textContent = product.tagLabel || product.category || "";
      descEl.textContent = product.description || product.short || "";

      if (product.mrp && product.mrp > product.price) {
        const off = Math.round(((product.mrp - product.price) / product.mrp) * 100);
        priceEl.innerHTML = `
          â‚¹${product.price}
          <span style="text-decoration:line-through;margin-left:6px;color:#777;">â‚¹${product.mrp}</span>
          <span style="margin-left:6px;color:#059b52;font-weight:600;">${off}% off</span>
        `;
      } else {
        priceEl.textContent = `â‚¹${product.price}`;
      }

      metaEl.textContent = (product.badge ? "Highlight: " + product.badge : "") +
                           (product.category ? " â€¢ Category: " + product.category : "");

      addBtn.addEventListener("click", () => {
        addToCart(product.id, parseInt(qtyInput.value) || 1);
        alert("Added to cart!");
      });
    }

    // Mobile nav toggle
    const navToggle = document.getElementById("navToggle");
    const navLinks  = document.getElementById("navLinks");
    navToggle.addEventListener("click", () => {
      navToggle.classList.toggle("is-open");
      navLinks.classList.toggle("is-open");
    });
  </script>

  <script type="module" src="auth.js"></script>
</body>
</html>
